{"version":3,"file":"static/js/501.cda2c0c2.chunk.js","mappings":"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","sources":["components/CheckoutItem.js","components/StripeButton.js","pages/checkout/Checkout.js"],"sourcesContent":["import { connect } from \"react-redux\";\r\nimport { clearItemFromCart, addItem, removeItem } from \"../redux/cart/cartActions\";\r\n\r\nfunction CheckoutItem({ item, clearItem, removeItem, addItem }) {\r\n  const { name, imageUrl, price, quantity } = item;\r\n  return (\r\n    <div className=\"checkout-item\">\r\n      <div className=\"image-container\">\r\n        <img src={imageUrl} alt=\"item\" />\r\n      </div>\r\n      <span className=\"name\">{name}</span>\r\n      <span className=\"quantity\">\r\n        <div className=\"arrow\" onClick={() => removeItem(item)}>\r\n          &#10094;\r\n        </div>\r\n        <span className=\"value\">{quantity}</span>\r\n        <div className=\"arrow\" onClick={()=>addItem(item)}>\r\n          &#10095;\r\n        </div>\r\n      </span>\r\n      <span className=\"price\">{`$${price}`}</span>\r\n      <div className=\"remove-button\" onClick={() => clearItem(item)}>\r\n        {\" \"}\r\n        &#10005;{\" \"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearItem: item => dispatch(clearItemFromCart(item)),\r\n  addItem: item => dispatch(addItem(item)),  \r\n  removeItem: item => dispatch(removeItem(item))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(CheckoutItem);","import React from \"react\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport axios from \"axios\";\r\n\r\nfunction StripeButton({ price }) {\r\n  const priceForStripe = price * 100;\r\n  const publishableKey =\r\n    \"pk_test_51LJkkYDlBVwPYX0SqEE8RyiNj4FrIxVyug4qBCE4QYPopjP8XR33pQCI2W5uLZORk3i8K5sbLDaJyM3xvEInuZoG00kNgetMP4\";\r\n\r\n  const onToken = (token) => {\r\n    axios({\r\n      url: \"payment\",\r\n      method: \"post\",\r\n      data: {\r\n        amount: priceForStripe,\r\n        token\r\n      }\r\n    }).then(response => { \r\n      alert(\"Payment successful\");\r\n    }).catch(error => {\r\n      console.log(\"Payment error: \", JSON.parse(error));\r\n      alert(\"There was an issue with your payment. Please ensure you use the provided credit card information.\")\r\n    })\r\n  };\r\n\r\n  return (\r\n    <StripeCheckout\r\n      label=\"Pay now\"\r\n      name=\"CRWN Clothing Ltd.\"\r\n      billingAddress\r\n      shippingAddress\r\n      image=\"https://svgshare.com/i/CUz.svg\"\r\n      description={`Your total is $${price}`}\r\n      amount={priceForStripe}\r\n      panelLabel=\"Pay Now\"\r\n      token={onToken}\r\n      stripeKey={publishableKey}\r\n    />\r\n  );\r\n}\r\n\r\nexport default StripeButton;\r\n","import { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {\r\n  selectCartItems,\r\n  selectCartTotal,\r\n} from \"../../redux/cart/cartSelectors\";\r\nimport CheckoutItem from \"../../components/CheckoutItem\";\r\nimport StripeButton from \"../../components/StripeButton\";\r\n\r\nfunction Checkout({ cartItems, cartTotal }) {\r\n  return (\r\n    <div className=\"checkout-page\">\r\n      <div className=\"checkout-header\">\r\n        <div className=\"header-block\">\r\n          <span>Product</span>\r\n        </div>\r\n        <div className=\"header-block\">\r\n          <span>Description</span>\r\n        </div>\r\n        <div className=\"header-block\">\r\n          <span>Quantity</span>\r\n        </div>\r\n        <div className=\"header-block\">\r\n          <span>Price</span>\r\n        </div>\r\n        <div className=\"header-block\">\r\n          <span>Remove</span>\r\n        </div>\r\n      </div>\r\n      {cartItems.map((cartItem) => (\r\n        <CheckoutItem key={cartItem.id} item={cartItem} />\r\n      ))}\r\n      <div className=\"total\">\r\n        <span>TOTAL: ${cartTotal}</span>\r\n      </div>\r\n      <div className=\"test-warning\">*Please use the following test credit card for payments*<br />\r\n        4242 4242 4242 4242 - Exp: 01/24 - CVV: 123\r\n      </div>\r\n      <StripeButton price={cartTotal} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  cartItems: selectCartItems,\r\n  cartTotal: selectCartTotal,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Checkout);\r\n"],"names":["connect","dispatch","clearItem","item","clearItemFromCart","addItem","removeItem","_ref","name","imageUrl","price","quantity","_jsxs","className","children","_jsx","src","alt","onClick","concat","priceForStripe","StripeCheckout","label","billingAddress","shippingAddress","image","description","amount","panelLabel","token","axios","url","method","data","then","response","alert","catch","error","console","log","JSON","parse","stripeKey","mapStateToProps","createStructuredSelector","cartItems","selectCartItems","cartTotal","selectCartTotal","map","cartItem","CheckoutItem","id","StripeButton"],"sourceRoot":""}